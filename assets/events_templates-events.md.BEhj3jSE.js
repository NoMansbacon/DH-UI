import{_ as s,c as a,o as n,ag as r,j as e,a as o}from"./chunks/framework.BpVvFBTM.js";const u=JSON.parse('{"title":"Events","description":"","frontmatter":{},"headers":[],"relativePath":"events/templates-events.md","filePath":"events/templates-events.md"}'),h={name:"events/templates-events.md"};function i(l,t,c,d,p,m){return n(),a("div",null,[...t[0]||(t[0]=[r('<h1 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h1><p>DH-UI fires custom DOM events so different blocks and integrations can react to changes.</p><p>Most users will not need these directly. For everyday usage, see <strong>Dynamic Content</strong> and <strong>State Storage</strong> under the Concepts section.</p><h2 id="tracker-state-change-events" tabindex="-1">Tracker &amp; state change events <a class="header-anchor" href="#tracker-state-change-events" aria-label="Permalink to &quot;Tracker &amp; state change events&quot;">​</a></h2><p>The plugin emits events when tracker or key/value state changes:</p><p>Core events:</p>',6),e("p",{"filePath,":"","hpKey,":"","stressKey,":"","armorKey,":"",hopeKey:""},[o("• dh:tracker:changed – emitted when a tracker row (HP/Stress/Armor/Hope/uses/etc.) changes. ◦ Detail: { key, filled } ▪ key: the tracker’s state key (e.g. din_health). ▪ filled: current number of filled boxes. • dh:kv:changed – emitted when a key in the KV/state store changes. ◦ Detail: { key, val } ▪ key: the KV key that changed. ▪ val: the new value. • dh:rest:short – emitted when a Short Rest is applied. • dh:rest:long – emitted when a Long Rest is applied. ◦ Detail for both rest events:"),e("br")],-1),e("p",null,"These are primarily for advanced users writing custom JS snippets or other plugins.",-1),e("p",null,"If you’re extending DH‑UI in code, prefer using the helpers from src/utils/events.ts:",-1),e("p",null,"• Emitters: ◦ emitTrackerChanged({ key, filled }) ◦ emitKvChanged({ key, val }) ◦ emitRestShort({ filePath, hpKey, stressKey, armorKey, hopeKey }) ◦ emitRestLong({ filePath, hpKey, stressKey, armorKey, hopeKey }) • Listeners (return an unsubscribe function): ◦ onTrackerChanged(handler) ◦ onKvChanged(handler) ◦ onRestShort(handler) ◦ onRestLong(handler)",-1),e("p",null,"Using these helpers keeps event names and payload shapes consistent across the plugin.",-1)])])}const v=s(h,[["render",i]]);export{u as __pageData,v as default};
